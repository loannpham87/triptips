(window.webpackJsonptriptips=window.webpackJsonptriptips||[]).push([[0],{120:function(e,t,a){},121:function(e,t,a){},122:function(e,t,a){},173:function(e,t,a){e.exports=a(345)},182:function(e,t,a){},203:function(e,t,a){},205:function(e,t,a){},206:function(e,t,a){},207:function(e,t,a){},344:function(e,t,a){},345:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"registerUser",function(){return w}),a.d(n,"loginUser",function(){return j}),a.d(n,"setCurrentUser",function(){return k}),a.d(n,"setUserLoading",function(){return x}),a.d(n,"logoutUser",function(){return C});var r=a(0),l=a.n(r),s=a(72),c=a.n(s),o=a(23),i=a(30),m=a(74),u=(a(182),a(16)),p=a(17),d=a(19),h=a(18),E=a(20),b=a(22),g=a(42),f=a(75),v=a.n(f),N=a(36),O=a.n(N),y=function(e){e?O.a.defaults.headers.common.Authorization=e:delete O.a.defaults.headers.common.Authorization},w=function(e,t){return function(a){O.a.post("/api/users/register",e).then(function(e){return t.push("/login")}).catch(function(e){return a({type:"GET_ERRORS",payload:e.response.data})})}},j=function(e,t){return function(a){O.a.post("/api/users/login",e).then(function(e){var n=e.data.token;localStorage.setItem("jwtToken",n),y(n);var r=v()(n);a(k(r)),t.push("/profile")}).catch(function(e){return a({type:"GET_ERRORS",payload:e.response.data})})}},k=function(e){return{type:"SET_CURRENT_USER",payload:e}},x=function(){return{type:"USER_LOADING"}},C=function(){return function(e){localStorage.removeItem("jwtToken"),y(!1),e(k({}))}},S=a(41);function U(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function R(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?U(a,!0).forEach(function(t){Object(S.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):U(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var _=a(202),D={isAuthenticated:!1,user:{},loading:!1},T={},L=Object(i.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return R({},e,{isAuthenticated:!_(t.payload),user:t.payload});case"USER_LOADING":return R({},e,{loading:!0});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return t.payload;default:return e}}}),P=[m.a],F=Object(i.e)(L,{},Object(i.d)(i.a.apply(void 0,P),window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__()||i.d)),I=(a(203),a(120),function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"brand-statement"},l.a.createElement("p",null,"Travel well. Travel better.")))}}]),t}(r.Component)),A=(a(61),function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("header",{className:"main-header"},l.a.createElement("img",{src:"./../../images/transparent-bkg.png",className:"logo",alt:"logo"})))}}]),t}(r.Component));a(121);var G=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"dev-cred"},l.a.createElement("footer",null,"For more info on the devs of this project, please check out our GitHub portfolios:"," ",l.a.createElement("a",{href:"https://github.com/AmandaLuane"}," Amanda Johnson |"),l.a.createElement("a",{href:"https://github.com/loannpham87"}," Loann Pham |"),l.a.createElement("a",{href:"https://github.com/rdweston1995"}," Robert Weston"))))},z=(a(122),function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("header",null,l.a.createElement("img",{src:"./../../images/transparent-bkg.png",className:"logo",alt:"logo"}),l.a.createElement("h1",{className:"header"},"TripTips"))))}}]),t}(r.Component)),M=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(A,null),l.a.createElement("div",{className:"bkg"},l.a.createElement("img",{src:"./../../images/initial-login-bkg-photo.jpg",className:"bkg-photo-home",alt:"background"})),l.a.createElement(z,null),l.a.createElement(I,null),l.a.createElement("div",{className:"btn-container"},l.a.createElement("div",{className:"col s6"},l.a.createElement(b.b,{to:"/login",className:"btn btn-large waves-effect waves-light hoverable blue accent-3"},"Login")),l.a.createElement("div",{className:"col s6"},l.a.createElement(b.b,{to:"/signup",className:"btn btn-large waves-effect waves-light hoverable blue accent-3"},"Sign Up"))),l.a.createElement(G,null))}}]),t}(r.Component),V=a(43),J=a.n(V),X=(a(205),function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(h.a)(t).call(this))).onChange=function(t){e.setState(Object(S.a)({},t.target.id,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a={email:e.state.email,password:e.state.password};e.props.loginUser(a,e.props.history)},e.state={email:"",password:"",errors:{}},e}return Object(E.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/profile")}},{key:"componentWillReceiveProps",value:function(e){e.auth.isAuthenticaed&&this.props.history.push("/profile"),e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){var e=this.state.errors;return l.a.createElement(l.a.Fragment,null,l.a.createElement(A,null),l.a.createElement(z,null),l.a.createElement("div",{className:"bkg"},l.a.createElement("img",{src:"./../../images/login-bkg-photo.jpg",className:"bkg-photo",alt:"background"}),l.a.createElement("button",{className:"login-btn",onClick:this.handleSubmit},"Login",l.a.createElement("a",{href:"/profile"},"Login"))),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s8 offset-s2"},l.a.createElement("h4",null,l.a.createElement(b.b,{to:"/",className:"btn-flat waves-effect"},l.a.createElement("i",{className:"material-icons left"},"keyboard_backspace",l.a.createElement("br",null))," ","Back to home")),l.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},l.a.createElement("b",null,"Login")," below",l.a.createElement("p",{className:"grey-text text-darken-1"},"Don't have an account? ",l.a.createElement(b.b,{to:"/signup"},"Sign Up"))),l.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("input",{onChange:this.onChange,value:this.state.email,error:e.email,id:"email",type:"email",className:J()("",{invalid:e.email||e.emailnotfound})}),l.a.createElement("label",{htmlFor:"email"},"Email"),l.a.createElement("span",{className:"red-text"},e.email,e.emailnotfound)),l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("input",{onChange:this.onChange,value:this.state.password,error:e.password,id:"password",type:"password",className:J()("",{invalid:e.password||e.passwordincorrect})}),l.a.createElement("label",{htmlFor:"password"},"Password"),l.a.createElement("span",{className:"red-text"},e.password,e.passwordincorrect)),l.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},l.a.createElement("button",{className:"login-btn",style:{width:"250px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem",padding:"12px 24px",border:"none",cursor:"pointer",margin:"10px",position:"relative",right:"67%",top:"50px"},type:"submit"},"Login")))))))}}]),t}(r.Component)),B=Object(o.b)(function(e){return{auth:e.auth,errors:e.errors}},{loginUser:j})(X),W=(a(206),function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(h.a)(t).call(this))).onChange=function(t){e.setState(Object(S.a)({},t.target.id,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a={name:e.state.name,email:e.state.email,password:e.state.password,password2:e.state.password2};e.props.registerUser(a,e.props.history)},e.state={name:"",email:"",password:"",password2:"",errors:{}},e}return Object(E.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/profile")}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){var e=this.state.errors;return l.a.createElement(l.a.Fragment,null,l.a.createElement(A,null),l.a.createElement(z,null),l.a.createElement("div",{className:"container-carousel"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("div",{className:"carousel"},l.a.createElement("div",{className:"bd-example"},l.a.createElement("div",{id:"carouselExampleCaptions",className:"carousel slide","data-ride":"carousel"},l.a.createElement("ol",{className:"carousel-indicators"},l.a.createElement("li",{"data-target":"#carouselExampleCaptions","data-slide-to":"0",className:"active"}),l.a.createElement("li",{"data-target":"#carouselExampleCaptions","data-slide-to":"1"}),l.a.createElement("li",{"data-target":"#carouselExampleCaptions","data-slide-to":"2"})),l.a.createElement("div",{className:"carousel-inner"},l.a.createElement("div",{className:"carousel-item active"},l.a.createElement("img",{src:"./images/local-eats.jpg",className:"d-block w-100",alt:"local eats"}),l.a.createElement("div",{className:"carousel-caption d-none d-md-block"},l.a.createElement("h5",null,"Discover local eats."),l.a.createElement("p",null,"Check out the local food scene."))),l.a.createElement("div",{className:"carousel-item"},l.a.createElement("img",{src:"./images/culture.jpg",className:"d-block w-100",alt:"culture"}),l.a.createElement("div",{className:"carousel-caption d-none d-md-block"},l.a.createElement("h5",null,"Immerse yourself in culture."),l.a.createElement("p",null,"Seek out historical sites."))),l.a.createElement("div",{className:"carousel-item"},l.a.createElement("img",{src:"./images/stay.jpg",className:"d-block w-100",alt:"stay"}),l.a.createElement("div",{className:"carousel-caption d-none d-md-block"},l.a.createElement("h5",null,"Stay somewhere with a view."),l.a.createElement("p",null,"That bucket list won't check itself."))))),l.a.createElement("a",{className:"carousel-control-prev",href:"#carouselExampleCaptions",role:"button","data-slide":"prev"},l.a.createElement("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),l.a.createElement("span",{className:"sr-only"},"Previous")),l.a.createElement("a",{className:"carousel-control-next",href:"#carouselExampleCaptions",role:"button","data-slide":"next"},l.a.createElement("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),l.a.createElement("span",{className:"sr-only"},"Next"))))),l.a.createElement("div",{className:"col"},l.a.createElement("div",{className:"formGroup"},l.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit,className:"signupForm"},l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("input",{type:"text",id:"name",onChange:this.onChange,value:this.state.name,errors:e.name,className:J()("",{invalid:e.name})}),l.a.createElement("label",{htmlFor:"name",className:"label"},"Name"),l.a.createElement("span",{className:"red-text"},e.name)),l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("input",{onChange:this.onChange,value:this.state.email,error:e.email,type:"text",id:"email",className:J()("",{invalid:e.email})}),l.a.createElement("label",{htmlFor:"email",className:"label"},"E-mail Address"),l.a.createElement("span",{className:"red-text"},e.email)),l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("input",{onChange:this.onChange,value:this.state.password,errors:e.password,type:"password",id:"password",className:J()("",{invalid:e.password})}),l.a.createElement("label",{htmlFor:"password",className:"label"},"Password"),l.a.createElement("span",{className:"red-text"},e.password)),l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("input",{onChange:this.onChange,value:this.state.password2,errors:e.password2,type:"password",id:"password2",className:J()("",{invalid:e.password})}),l.a.createElement("label",{htmlFor:"password2",className:"label"},"Confirm Password"),l.a.createElement("span",{className:"red-text"},e.password2)),l.a.createElement("div",{className:"col s12"},l.a.createElement("button",{type:"submit",className:" signup-btn signUpBtn btn btn-large waves-effect waves-light hoverable blue accent-3"},"Sign Up"))))))),l.a.createElement(G,null))}}]),t}(r.Component)),q=Object(o.b)(function(e){return{auth:e.auth,errors:e.errors}},{registerUser:w})(Object(g.f)(W)),H=(a(207),a(353)),K=a(352),Q=a(51),Y=a(163),Z=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(p.a)(t,[{key:"renderAuthLinks",value:function(){var e=this;return[l.a.createElement(H.a.Item,{key:1,position:"right"},l.a.createElement(K.a,{className:"icon",icon:"search",placeholder:"Search..."})),l.a.createElement(H.a.Item,{key:2},l.a.createElement(b.b,{to:"/post"},l.a.createElement(Q.a,{color:"black",size:"large",name:"image"}))),l.a.createElement(H.a.Item,{key:3},l.a.createElement(b.b,{to:"/explore"},l.a.createElement(Q.a,{color:"black",size:"large",name:"compass"}))),l.a.createElement(H.a.Item,{key:4},l.a.createElement(Q.a,{color:"black",size:"large",name:"heart outline"})),l.a.createElement(H.a.Item,{key:5,onClick:function(){return e.props.signOut()}},"Sign Out")]}},{key:"render",value:function(){return l.a.createElement(H.a,{style:{height:"70px",display:"flex",margin:"150px 10px 0px 10px"}},l.a.createElement(b.b,{to:"/"},l.a.createElement(H.a.Item,null,l.a.createElement(Y.a,{size:"mini",src:"https://i.imgur.com/J9Dq2im.png?2"}))),this.renderAuthLinks())}}]),t}(r.Component);var $=Object(o.b)(function(e){return{authenticated:e.auth.authenticated}},n)(Z),ee=a(351),te=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(h.a)(t).call(this))).onLogoutClick=function(t){t.preventDefault(),e.props.logoutUser(e.props.history),console.log("logged out")},e.state={uploads:[]},e}return Object(E.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props.auth.user),O.a.get("/api/posts/uploads/"+this.props.auth.user.id).then(function(t){e.setState({uploads:t.data}),console.log(e.state.uploads)}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this.props.auth.user;return console.log(e),l.a.createElement(l.a.Fragment,null,l.a.createElement(z,null),l.a.createElement($,null),l.a.createElement(ee.a,null,l.a.createElement("button",{onClick:this.onLogoutClick},"Logout"),l.a.createElement(b.b,{to:"/upload",className:"btn-flat waves-effect"},"Upload"),this.state.uploads.map(function(e,t){return l.a.createElement("div",{key:e.id,id:e.userId,className:"card",style:{margin:"25px",width:"700px",height:"100%"}},l.a.createElement("h2",{className:"title",style:{fontSize:"50px"}},e.title),l.a.createElement("img",{src:e.picUrl,style:{width:"500px",height:"400px",paddingLeft:"125px"},alt:"user photo"}),l.a.createElement("p",{className:"caption",style:{margin:"50px"}},e.caption))})))}}]),t}(r.Component),ae=Object(o.b)(function(e){return{auth:e.auth}},{logoutUser:C})(te),ne=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(h.a)(t).call(this))).onChange=function(t){e.setState(Object(S.a)({},t.target.id,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a={userId:e.props.auth.user.id,title:e.state.title,userName:e.props.auth.user.name,picUrl:e.state.picUrl,caption:e.state.caption};console.log(a),e.props.uploadPost(a,e.props.history)},e.state={userId:"",title:"",userName:"",picUrl:"",caption:""},e}return Object(E.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props.auth.user)}},{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s8 offset-s2"},l.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("input",{onChange:this.onChange,value:this.state.title,id:"title",type:"text",className:"title"}),l.a.createElement("label",{htmlFor:"title"},"Title")),l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("input",{onChange:this.onChange,value:this.state.picUrl,id:"picUrl",type:"text",className:"picUrl"}),l.a.createElement("label",{htmlFor:"picUrl"},"Picture URL")),l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("input",{onChange:this.onChange,value:this.state.caption,id:"caption",type:"text",className:"caption"}),l.a.createElement("label",{htmlFor:"caption"},"Caption")),l.a.createElement("div",{className:"col s12"},l.a.createElement("button",{type:"submit",className:"btn btn-large waves-effect waves-light hoverable blue accent-3"},"Upload"))))))}}]),t}(r.Component),re=Object(o.b)(function(e){return{auth:e.auth}},{uploadPost:function(e,t){return function(a){console.log(e),O.a.post("/api/posts/upload",e).then(function(e){console.log(e),t.push("/profile")}).catch(function(e){a({type:"GET_ERRORS",payload:e.response.data})})}}})(ne);a(344);if(localStorage.jwtToken){var le=localStorage.jwtToken;y(le);var se=v()(le);F.dispatch(k(se));var ce=Date.now()/1e3;se.exp<ce&&(F.dispatch(C()),window.location.href="./login")}var oe=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return l.a.createElement(o.a,{store:F},l.a.createElement(b.a,null,l.a.createElement("div",{className:"App"},l.a.createElement(g.c,null,l.a.createElement(g.a,{exact:!0,path:"/",component:M}),l.a.createElement(g.a,{exact:!0,path:"/login",component:B}),l.a.createElement(g.a,{exact:!0,path:"/signup",component:q}),l.a.createElement(g.a,{exact:!0,path:"/profile",component:ae}),l.a.createElement(g.a,{exact:!0,Post:"/upload",component:re})))))}}]),t}(r.Component),ie=Object(i.e)(L,{},Object(i.a)(m.a));localStorage.getItem("token")&&ie.dispatch({type:"USER_LOADING"}),c.a.render(l.a.createElement(o.a,{store:ie},l.a.createElement(oe,null)),document.getElementById("root"))},61:function(e,t,a){}},[[173,1,2]]]);
//# sourceMappingURL=main.d51982f2.chunk.js.map